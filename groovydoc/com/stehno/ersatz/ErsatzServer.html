<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (2.4.7) on Sun Dec 18 09:49:59 CST 2016 -->
    <title>ErsatzServer (ersatz 0.2.1 API)</title>
    <meta name="date" content="2016-12-18">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="ErsatzServer (ersatz 0.2.1 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../index-all.html">Index</a></li>
        <li><a href="../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../index.html?com/stehno/ersatz/ErsatzServer" target="_top">Frames</a></li>
            <li><a href="ErsatzServer.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>com.stehno.ersatz</strong></div>

    <h2 title="[Groovy] Class ErsatzServer" class="title">[Groovy] Class ErsatzServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>com.stehno.ersatz.ErsatzServer
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">



    <p> The main entry point for an Ersatz server, used to configure the expectations and manage the server itself. This is the class that should be
 instantiated in unit tests.

 The server will be started on an ephemeral port so as not to collide with itself or other server applications running in the test environment. In
 your tests, you can retrieve the server port or URL using the <code>getPort()</code> and <code>getServerUrl()</code> methods respectively.

 Using the <code>ErsatzServer</code> follows the workflow:

 <ol>
     <li>Create the <code>ErsatzServer</code> instance.</li>
     <li>Configure the expectations.</li>
     <li>Start the server</li>
     <li>Run your client tests against the server.</li>
     <li>Verify the expectations.</li>
     <li>Stop the server.</li>
 </ol>

 See the User Guide for more detailed information.
 </p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#NOT_FOUND_BODY">NOT_FOUND_BODY</a></code><br>The response body returned when no matching expectation could be found.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>java.util.List&lt;<a href='../../../com/stehno/ersatz/ServerFeature.html' title='ServerFeature'>ServerFeature</a>&gt;</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#features">features</a></code><br>The server feature extensions configured on the server.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>void</strong></code></td>
                            <td class="colLast"><code><strong><a href="#addFeature(com.stehno.ersatz.ServerFeature)">addFeature</a></strong>(<a href='../../../com/stehno/ersatz/ServerFeature.html'>ServerFeature</a> feature)</code><br>Used to enable support for a feature extension.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><a href='../../../com/stehno/ersatz/ErsatzServer.html'>ErsatzServer</a></strong></code></td>
                            <td class="colLast"><code><strong><a href="#expectations(Consumer<Expectations>)">expectations</a></strong>(java.util.function.Consumer&lt;<a href='../../../com/stehno/ersatz/Expectations.html' title='Expectations'>Expectations</a>&gt; expects)</code><br>Used to configure HTTP expectations on the server; the provided <code>Consumer<Expectations></code> implementation will have an active
 <code>Expectations</code> object passed into it for configuring server interaction expectations.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><a href='../../../com/stehno/ersatz/ErsatzServer.html'>ErsatzServer</a></strong></code></td>
                            <td class="colLast"><code><strong><a href="#expectations(groovy.lang.Closure)">expectations</a></strong>(groovy.lang.Closure closure)</code><br>Used to configure HTTP expectations on the server; the provided Groovy <code>Closure</code> will delegate to an <code>Expectations</code>
 instance for configuring server interaction expectations using the Groovy DSL.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><a href='../../../com/stehno/ersatz/Expectations.html'>Expectations</a></strong></code></td>
                            <td class="colLast"><code><strong><a href="#expects()">expects</a></strong>()</code><br>An alternate means of starting the expectation chain.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>int</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getPort()">getPort</a></strong>()</code><br>Used to retrieve the port where the HTTP server is running.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>java.lang.String</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getServerUrl()">getServerUrl</a></strong>()</code><br>Used to retrieve the full URL of the HTTP server.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>void</strong></code></td>
                            <td class="colLast"><code><strong><a href="#start()">start</a></strong>()</code><br>Used to start the HTTP server for test interactions. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>void</strong></code></td>
                            <td class="colLast"><code><strong><a href="#stop()">stop</a></strong>()</code><br>Used to stop the HTTP server.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>boolean</strong></code></td>
                            <td class="colLast"><code><strong><a href="#verify()">verify</a></strong>()</code><br>Used to verify all of the HTTP server interaction for their expected call criteria (if any). </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</strong></code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="NOT_FOUND_BODY"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>NOT_FOUND_BODY</strong></h4>
                                <p> The response body returned when no matching expectation could be found.
     </p>
                            </li>
                        </ul>
                    
                        <a name="features"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.util.List&lt;<a href='../../../com/stehno/ersatz/ServerFeature.html' title='ServerFeature'>ServerFeature</a>&gt; <strong>features</strong></h4>
                                <p> The server feature extensions configured on the server.
     </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="addFeature(com.stehno.ersatz.ServerFeature)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>addFeature</strong>(<a href='../../../com/stehno/ersatz/ServerFeature.html'>ServerFeature</a> feature)</h4>
                                <p> Used to enable support for a feature extension.
     <DL><DT><B>Parameters:</B></DT><DD><code>feature</code> -  the <code>ServerFeature</code> to be added</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="expectations(Consumer<Expectations>)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings('ConfusingMethodName')
<a href='../../../com/stehno/ersatz/ErsatzServer.html'>ErsatzServer</a> <strong>expectations</strong>(java.util.function.Consumer&lt;<a href='../../../com/stehno/ersatz/Expectations.html' title='Expectations'>Expectations</a>&gt; expects)</h4>
                                <p> Used to configure HTTP expectations on the server; the provided <code>Consumer<Expectations></code> implementation will have an active
 <code>Expectations</code> object passed into it for configuring server interaction expectations.
     <DL><DT><B>Returns:</B></DT><DD>a reference to this server</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>expects</code> -  the <code>Consumer<Expectations></code> instance to perform the configuration</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="expectations(groovy.lang.Closure)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings('ConfusingMethodName')
<a href='../../../com/stehno/ersatz/ErsatzServer.html'>ErsatzServer</a> <strong>expectations</strong>(@groovy.lang.DelegatesTo(Expectations) groovy.lang.Closure closure)</h4>
                                <p> Used to configure HTTP expectations on the server; the provided Groovy <code>Closure</code> will delegate to an <code>Expectations</code>
 instance for configuring server interaction expectations using the Groovy DSL.
     <DL><DT><B>Returns:</B></DT><DD>a reference to this server</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>closure</code> -  the Groovy <code>Closure</code> which will provide expectation configuration via DSL</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="expects()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../com/stehno/ersatz/Expectations.html'>Expectations</a> <strong>expects</strong>()</h4>
                                <p> An alternate means of starting the expectation chain.
     <DL><DT><B>Returns:</B></DT><DD>the reference to the Expectation configuration object</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getPort()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>int <strong>getPort</strong>()</h4>
                                <p> Used to retrieve the port where the HTTP server is running.
     <DL><DT><B>Returns:</B></DT><DD>the HTTP server port</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getServerUrl()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getServerUrl</strong>()</h4>
                                <p> Used to retrieve the full URL of the HTTP server.
     <DL><DT><B>Returns:</B></DT><DD>the full URL of the HTTP server</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="start()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>start</strong>()</h4>
                                <p> Used to start the HTTP server for test interactions. This method should be called after configuration of expectations and before the test
 interactions are executed against the server.
     </p>
                            </li>
                        </ul>
                    
                        <a name="stop()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>stop</strong>()</h4>
                                <p> Used to stop the HTTP server.
     </p>
                            </li>
                        </ul>
                    
                        <a name="verify()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>boolean <strong>verify</strong>()</h4>
                                <p> Used to verify all of the HTTP server interaction for their expected call criteria (if any). This method should be called after any test
 interactions have been performed. This is an optional step since generally you will also be receiving the expected response back from the
 server; however, this verification step can come in handy when simply needing to know that a request is actually called or not.
     <DL><DT><B>Returns:</B></DT><DD><code>true</code> if all call criteria were met during test execution.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../index-all.html">Index</a></li>
        <li><a href="../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../index.html?com/stehno/ersatz/ErsatzServer" target="_top">Frames</a></li>
            <li><a href="ErsatzServer.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
